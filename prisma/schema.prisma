datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Watchlist {
  region    String  @id
  keywords  String[]
  updatedAt DateTime @updatedAt
  createdAt DateTime @default(now())
}

model Theme {
  id              String   @id @default(cuid())
  region          String
  theme           String
  dayKey          String   // "YYYY-MM-DD" used for daily snapshot
  heat            Int
  momentum        Int
  forecast_heat   Int
  confidence      Float
  act_watch_avoid String
  links           String[] // or Json if you chose Json
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@unique([region, theme, dayKey], name: "region_theme_day")
  @@index([region, dayKey])
}
